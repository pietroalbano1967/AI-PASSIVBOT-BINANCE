<!-- dashboard.component.html -->
<div class="dashboard-grid">
  <!-- HEADER CON NAVIGAZIONE -->
  <div class="grid-item" style="grid-column: 1 / span 3;">
    <div class="card">
      <div class="dashboard-header">
        <h1>🤖 AI Trading Dashboard</h1>
        <div class="navigation">
          <button (click)="forceRefresh()" class="btn btn-primary">🔄 Refresh</button>
          <button (click)="navigateToBacktest()" class="btn btn-secondary">📊 Backtest</button>
          <button (click)="navigateToOptimize()" class="btn btn-secondary">⚡ Optimize</button>
          <button (click)="navigateToResults()" class="btn btn-secondary">📈 Results</button>
          <button (click)="navigateToOrders()" class="btn btn-secondary">📋 Orders</button>
          <button (click)="debugInfo()" class="btn btn-debug">🐛 Debug</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 📊 Candlestick Chart -->
  <div class="grid-item" style="grid-row: 2 / span 2; grid-column: 1 / span 2;">
    <div class="card">
      <div class="card-header">
        <h2>📊 {{currentSymbol}} Candlestick Chart</h2>
        <div class="header-actions">
          <div class="loading-indicator" *ngIf="isLoading">
            <div class="spinner"></div>
            <span>Caricamento {{currentSymbol}}...</span>
          </div>
        </div>
      </div>
      <app-candle-chart 
        *ngIf="currentSymbol && !isLoading"
        [symbol]="currentSymbol">
      </app-candle-chart>
    </div>
  </div>

  <!-- 💹 MiniTicker -->
  <div class="grid-item" style="grid-row: 2 / span 2; grid-column: 3;">
    <div class="card">
      <h2>💹 Mini Ticker</h2>
      <app-mini-ticker (symbolSelected)="onSymbolSelected($event)"></app-mini-ticker>
    </div>
  </div>

  <!-- 📊 Volumi -->
  <div class="grid-item volumes">
    <div class="card">
      <h2>📊 Volumi {{currentSymbol}}</h2>
      <app-volume-chart *ngIf="currentSymbol" [symbol]="currentSymbol"></app-volume-chart>
    </div>
  </div>

  <!-- 🤖 AI Signals -->
  <div class="grid-item" style="grid-row: 3; grid-column: 3;">
    <div class="card">
      <app-ai-signals 
        [signals]="signals"
        [simulationEnabled]="simulationEnabled"
        (simulationToggled)="onSimulationToggled($event)">
      </app-ai-signals>
    </div>
  </div>

  <!-- 📈 RSI -->
<div class="grid-item rsi">
  <div class="card">
    <h2>📈 RSI (14) {{currentSymbol}}</h2>
    <app-rsi-chart *ngIf="currentSymbol && !isLoading" [symbol]="currentSymbol"></app-rsi-chart>
  </div>
</div>

  <!-- 📉 MACD -->
  <div class="grid-item macd">
    <div class="card">
      <h2>📉 MACD (12,26,9) {{currentSymbol}}</h2>
      <app-macd-chart *ngIf="currentSymbol" [symbol]="currentSymbol"></app-macd-chart>
    </div>
  </div>
</div>