<div class="chart-container">
  <div class="connection-status" [class.connected]="isConnected" [class.disconnected]="!isConnected">
    {{ isConnected ? '✅ Connesso' : '❌ Disconnesso' }}
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <span>Connessione a {{symbol}}...</span>
  </div>
  
  <div *ngIf="errorMessage" class="error-message">
    {{errorMessage}}
    <button (click)="connectToSignals()" class="retry-btn">Riprova</button>
  </div>

  <div *ngIf="!loading && !hasData && !errorMessage" class="no-data">
    <p>In attesa di dati per {{symbol}}</p>
  </div>

  <apx-chart
    *ngIf="!loading && hasData"
    [series]="chartOptions.series"
    [chart]="chartOptions.chart"
    [xaxis]="chartOptions.xaxis"
    [yaxis]="chartOptions.yaxis"
    [stroke]="chartOptions.stroke"
    [title]="chartOptions.title"
    [tooltip]="chartOptions.tooltip"
    [markers]="chartOptions.markers"
    [grid]="chartOptions.grid">
  </apx-chart>
</div>